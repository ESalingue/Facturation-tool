{"ast":null,"code":"var _jsxFileName = \"/home/tenka/WebstormProjects/facturation-tool/src/components/InvoiceForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport API from '../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InvoiceForm = () => {\n  _s();\n  const [clients, setClients] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [formData, setFormData] = useState({\n    client: '',\n    items: [],\n    taxRate: 20\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [clientRes, productRes] = await Promise.all([API.get('/clients'), API.get('/products')]);\n        setClients(clientRes.data);\n        setProducts(productRes.data);\n      } catch (err) {\n        console.error(err.message);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleAddItem = () => {\n    setFormData({\n      ...formData,\n      items: [...formData.items, {\n        product: '',\n        quantity: 1,\n        price: 0\n      }]\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await API.post('/invoices', formData);\n      alert('Facture créée avec succès');\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Cr\\xE9er une facture\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Client :\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: formData.client,\n      onChange: e => setFormData({\n        ...formData,\n        client: e.target.value\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"S\\xE9lectionnez un client\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), clients.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: client._id,\n        children: client.name\n      }, client._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Produits\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), formData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: item.product,\n        onChange: e => {\n          const items = [...formData.items];\n          items[index].product = e.target.value;\n          setFormData({\n            ...formData,\n            items\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"S\\xE9lectionnez un produit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), products.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: product._id,\n          children: product.name\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Quantit\\xE9\",\n        value: item.quantity,\n        onChange: e => {\n          const items = [...formData.items];\n          items[index].quantity = e.target.value;\n          setFormData({\n            ...formData,\n            items\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: handleAddItem,\n      children: \"Ajouter un produit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Cr\\xE9er\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(InvoiceForm, \"3jItYhu8UdiTaLwNU5V5pFCOv0g=\");\n_c = InvoiceForm;\nexport default InvoiceForm;\nvar _c;\n$RefreshReg$(_c, \"InvoiceForm\");","map":{"version":3,"names":["React","useState","useEffect","API","jsxDEV","_jsxDEV","InvoiceForm","_s","clients","setClients","products","setProducts","formData","setFormData","client","items","taxRate","fetchData","clientRes","productRes","Promise","all","get","data","err","console","error","message","handleAddItem","product","quantity","price","handleSubmit","e","preventDefault","post","alert","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","map","_id","name","item","index","type","placeholder","onClick","_c","$RefreshReg$"],"sources":["/home/tenka/WebstormProjects/facturation-tool/src/components/InvoiceForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport API from '../api/api';\n\nconst InvoiceForm = () => {\n    const [clients, setClients] = useState([]);\n    const [products, setProducts] = useState([]);\n    const [formData, setFormData] = useState({\n        client: '',\n        items: [],\n        taxRate: 20,\n    });\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const [clientRes, productRes] = await Promise.all([\n                    API.get('/clients'),\n                    API.get('/products'),\n                ]);\n                setClients(clientRes.data);\n                setProducts(productRes.data);\n            } catch (err) {\n                console.error(err.message);\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    const handleAddItem = () => {\n        setFormData({\n            ...formData,\n            items: [...formData.items, { product: '', quantity: 1, price: 0 }],\n        });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            await API.post('/invoices', formData);\n            alert('Facture créée avec succès');\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <h2>Créer une facture</h2>\n            <label>Client :</label>\n            <select\n                value={formData.client}\n                onChange={(e) => setFormData({ ...formData, client: e.target.value })}\n            >\n                <option value=\"\">Sélectionnez un client</option>\n                {clients.map((client) => (\n                    <option key={client._id} value={client._id}>\n                        {client.name}\n                    </option>\n                ))}\n            </select>\n\n            <h3>Produits</h3>\n            {formData.items.map((item, index) => (\n                <div key={index}>\n                    <select\n                        value={item.product}\n                        onChange={(e) => {\n                            const items = [...formData.items];\n                            items[index].product = e.target.value;\n                            setFormData({ ...formData, items });\n                        }}\n                    >\n                        <option value=\"\">Sélectionnez un produit</option>\n                        {products.map((product) => (\n                            <option key={product._id} value={product._id}>\n                                {product.name}\n                            </option>\n                        ))}\n                    </select>\n                    <input\n                        type=\"number\"\n                        placeholder=\"Quantité\"\n                        value={item.quantity}\n                        onChange={(e) => {\n                            const items = [...formData.items];\n                            items[index].quantity = e.target.value;\n                            setFormData({ ...formData, items });\n                        }}\n                    />\n                </div>\n            ))}\n            <button type=\"button\" onClick={handleAddItem}>\n                Ajouter un produit\n            </button>\n\n            <button type=\"submit\">Créer</button>\n        </form>\n    );\n};\n\nexport default InvoiceForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}